{"remainingRequest":"C:\\web_app\\Coop-main\\node_modules\\babel-loader\\lib\\index.js!C:\\web_app\\Coop-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\web_app\\Coop-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\web_app\\Coop-main\\src\\components\\Message.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\web_app\\Coop-main\\src\\components\\Message.vue","mtime":1645695165000},{"path":"C:\\web_app\\Coop-main\\babel.config.js","mtime":1645695165000},{"path":"C:\\web_app\\Coop-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648453903687},{"path":"C:\\web_app\\Coop-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1648453910578},{"path":"C:\\web_app\\Coop-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648453903687},{"path":"C:\\web_app\\Coop-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1648453912712}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbIm1lc3NhZ2UiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWZmaWNoZXI6IHRydWUKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbWVtYmVyOiBmdW5jdGlvbiBtZW1iZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE1lbWJlcih0aGlzLm1lc3NhZ2UubWVtYmVyX2lkKTsKICAgIH0sCiAgICBkYXRlTWVzc2FnZTogZnVuY3Rpb24gZGF0ZU1lc3NhZ2UoKSB7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUodGhpcy5tZXNzYWdlLmNyZWF0ZWRfYXQpOwogICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoImZyLUZSIikgKyAiIMOgICIgKyBkYXRlLnRvTG9jYWxlVGltZVN0cmluZygiZnItRlIiKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZU1lc3NhZ2U6IGZ1bmN0aW9uIGRlbGV0ZU1lc3NhZ2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoY29uZmlybSgiw6p0ZXMtdm91cyBzw7tyZSBkZSB2b3Vsb2lyIHN1cHByaW1lciBsZSBtZXNzYWdlID8iKSkgewogICAgICAgIHRoaXMuJGFwaS5kZWxldGUoImNoYW5uZWxzLyIuY29uY2F0KHRoaXMubWVzc2FnZS5jaGFubmVsX2lkLCAiL3Bvc3RzLyIpLmNvbmNhdCh0aGlzLm1lc3NhZ2UuaWQpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLmFmZmljaGVyID0gZmFsc2U7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlKSB7CiAgICAgICAgICAgIGFsZXJ0KGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["Message.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,SAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,QAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,SAAA,CAAA,KAAA,OAAA,CAAA,SAAA,CAAA;AACA,KAHA;AAIA,IAAA,WAJA,yBAIA;AACA,UAAA,IAAA,GAAA,IAAA,IAAA,CAAA,KAAA,OAAA,CAAA,UAAA,CAAA;AACA,aACA,IAAA,CAAA,kBAAA,CAAA,OAAA,IACA,KADA,GAEA,IAAA,CAAA,kBAAA,CAAA,OAAA,CAHA;AAKA;AAXA,GAPA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AACA,UAAA,OAAA,CAAA,kDAAA,CAAA,EAAA;AACA,aAAA,IAAA,CACA,MADA,oBAEA,KAAA,OAAA,CAAA,UAFA,oBAEA,KAAA,OAAA,CAAA,EAFA,GAIA,IAJA,CAIA,YAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA,SANA,EAOA,KAPA,CAOA,UAAA,KAAA,EAAA;AACA,cAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,YAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AACA;AACA,SAXA;AAYA;AACA;AAhBA;AApBA,CAAA","sourcesContent":["<template>\n  <transition name=\"fade\">\n    <article class=\"media box\" v-if=\"member && afficher\">\n      <figure class=\"media-left\">\n        <p class=\"image is-64x64\">\n          <img :src=\"avatar(member)\" />\n        </p>\n      </figure>\n      <div class=\"media-content\">\n        <div class=\"content\">\n          <p>\n            <router-link\n              :to=\"{ name: 'Member', params: { idMember: member.id } }\"\n            >\n              <strong>{{ member.fullname }}</strong>\n            </router-link> <small>{{ member.email }}</small>\n            <br />\n            <span v-html=\"message.message\"></span>\n            <br />\n            <small>{{ dateMessage }}</small>\n          </p>\n        </div>\n      </div>\n      <div\n        class=\"media-right\"\n        v-if=\"message.member_id == $store.state.member.id\"\n      >\n        <a @click=\"deleteMessage\" div=\"box\" class=\"button delete is-danger\"></a>\n      </div>\n    </article>\n  </transition>\n</template>\n<script>\nexport default {\n  props: [\"message\"],\n  data() {\n    return {\n      afficher: true,\n    };\n  },\n  computed: {\n    member() {\n      return this.$store.getters.getMember(this.message.member_id);\n    },\n    dateMessage() {\n      let date = new Date(this.message.created_at);\n      return (\n        date.toLocaleDateString(\"fr-FR\") +\n        \" à \" +\n        date.toLocaleTimeString(\"fr-FR\")\n      );\n    },\n  },\n  methods: {\n    deleteMessage() {\n      if (confirm(\"êtes-vous sûre de vouloir supprimer le message ?\")) {\n        this.$api\n          .delete(\n            `channels/${this.message.channel_id}/posts/${this.message.id}`\n          )\n          .then(() => {\n            this.afficher = false;\n          })\n          .catch((error) => {\n            if (error.response.data.message) {\n              alert(error.response.data.message);\n            }\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n</style>\n"],"sourceRoot":"src/components"}]}